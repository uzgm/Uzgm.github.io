<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ğŸ¥… í˜ë„í‹°í‚¥ ë§ˆìŠ¤í„°ê°€ ë˜ì</title>
  <style>
    body { background: #222; color: white; text-align: center; font-family: sans-serif; margin: 0; overflow: hidden; }
    #stadium { 
      position: relative; width: 600px; height: 400px; 
      margin: 30px auto; background: #2e7d32; /* ì”ë””ìƒ‰ */
      border: 5px solid #fff; border-radius: 10px; overflow: hidden;
    }
    /* ê³¨ëŒ€ */
    #goal { 
      position: absolute; top: 50px; left: 150px; width: 300px; height: 120px; 
      border: 5px solid white; border-bottom: none; background: rgba(255,255,255,0.1);
    }
    /* ê³¨í‚¤í¼ (ì™¼ìª½/ì˜¤ë¥¸ìª½ ì£¼ë‘¥ì´ ëŒ€ì‹  ì¥ê°‘) */
    #keeper { 
      position: absolute; top: 110px; left: 275px; font-size: 50px; 
      transition: all 0.3s ease; z-index: 10;
    }
    /* ì¶•êµ¬ê³µ */
    #ball { 
      position: absolute; bottom: 30px; left: 275px; font-size: 40px; 
      transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); z-index: 5;
    }
    .ui { margin-top: 20px; font-size: 20px; font-weight: bold; }
    button { padding: 10px 20px; font-size: 18px; cursor: pointer; background: #ffeb3b; border: none; border-radius: 5px; font-weight: bold; }
    #msg { font-size: 24px; margin: 10px; height: 30px; }
  </style>
</head>
<body>
  <h1>âš½ í˜ë„í‹°í‚¥ ë§ˆìŠ¤í„°</h1>
  <div id="stadium">
    <div id="goal"></div>
    <div id="keeper">ğŸ§¤</div>
    <div id="ball">âš½</div>
  </div>
  
  <div id="msg">ë°©í–¥ì„ ì„ íƒí•´ì„œ ìŠ›ì„ ë‚ ë¦¬ì„¸ìš”!</div>
  
  <div class="ui">
    <button onclick="shoot('left')">ì™¼ìª½ ìŠ›</button>
    <button onclick="shoot('center')">ì¤‘ì•™ ìŠ›</button>
    <button onclick="shoot('right')">ì˜¤ë¥¸ìª½ ìŠ›</button>
  </div>
  
  <div class="ui">
    SCORE: <span id="score">0</span> | BEST: <span id="highscore">0</span>
  </div>

  <script>
    const ball = document.getElementById("ball");
    const keeper = document.getElementById("keeper");
    const msg = document.getElementById("msg");
    const scoreEl = document.getElementById("score");
    
    let score = 0;
    let highscore = localStorage.getItem("pkHighscore") || 0;
    document.getElementById("highscore").innerText = highscore;
    let isShooting = false;

    function shoot(direction) {
      if (isShooting) return;
      isShooting = true;

      // 1. ê³¨í‚¤í¼ì˜ ëœë¤ ë°©ì–´ ë°©í–¥ (left, center, right)
      const directions = ['left', 'center', 'right'];
      const keeperChoice = directions[Math.floor(Math.random() * 3)];

      // 2. ê³¨í‚¤í¼ ì´ë™
      if (keeperChoice === 'left') keeper.style.left = "160px";
      else if (keeperChoice === 'center') keeper.style.left = "275px";
      else keeper.style.left = "390px";

      // 3. ê³µ ì´ë™
      ball.style.bottom = "230px"; // ê³¨ëŒ€ ë†’ì´ê¹Œì§€
      if (direction === 'left') ball.style.left = "160px";
      else if (direction === 'center') ball.style.left = "275px";
      else ball.style.left = "390px";

      // 4. ê²°ê³¼ íŒì •
      setTimeout(() => {
        if (direction === keeperChoice) {
          msg.innerText = "ğŸ§¤ í‚¤í¼ì˜ ìŠˆí¼ ì„¸ì´ë¸Œ! (ì‹¤íŒ¨)";
          msg.style.color = "#ff5252";
          score = 0; // í˜ë„í‹°í‚¥ì€ ì›ë˜ ì—°ì† ì„±ê³µì´ ì¤‘ìš”!
        } else {
          msg.innerText = "âš½ GOAL!!! ì°¢ì—ˆë‹¤!!";
          msg.style.color = "#4caf50";
          score++;
          if (score > highscore) {
            highscore = score;
            localStorage.setItem("pkHighscore", highscore);
            document.getElementById("highscore").innerText = highscore;
          }
        }
        scoreEl.innerText = score;

        // 5. ì´ˆê¸°í™” (1ì´ˆ ë’¤)
        setTimeout(resetPosition, 1000);
      }, 500);
    }

    function resetPosition() {
      ball.style.bottom = "30px";
      ball.style.left = "275px";
      keeper.style.left = "275px";
      msg.innerText = "ë‹¤ìŒ ìŠ›ì„ ì¤€ë¹„í•˜ì„¸ìš”!";
      msg.style.color = "white";
      isShooting = false;
    }
  </script>
</body>
</html>
