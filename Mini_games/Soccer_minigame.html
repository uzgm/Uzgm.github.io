<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>zgm Penalty Master</title>
  <style>
    :root {
      --grass: #4caf50;
      --line: rgba(255,255,255,0.8);
      --dog-brown: #c9b4a1;
      --nose-black: #1a1a1a;
    }

    body {
      background: #f0ede9;
      color: #333;
      text-align: center;
      font-family: 'Pretendard', sans-serif;
      margin: 0;
      overflow: hidden; /* ëª¨ë°”ì¼ ìŠ¤í¬ë¡¤ ë°©ì§€ */
      display: flex;
      flex-direction: column;
      height: 100vh;
    }

    /* ìƒë‹¨ ì ìˆ˜íŒ */
    .header {
      padding: 20px;
      background: #fff;
      box-shadow: 0 4px 15px rgba(0,0,0,0.05);
      z-index: 10;
    }
    .score-container { font-size: 1.2rem; font-weight: 800; color: var(--dog-brown); }
    #score { font-size: 2rem; color: var(--nose-black); }

    /* ê²½ê¸°ì¥ (ëª¨ë°”ì¼ ëŒ€ì‘ ìœ ì—°í•œ í¬ê¸°) */
    #stadium { 
      position: relative; 
      width: 95%; 
      max-width: 600px; 
      height: 350px; 
      margin: 20px auto; 
      background: var(--grass); 
      border: 8px solid #fff; 
      border-radius: 40px; 
      box-shadow: inset 0 0 50px rgba(0,0,0,0.2);
      overflow: hidden;
    }

    /* ê³¨ëŒ€ */
    #goal { 
      position: absolute; top: 40px; left: 15%; width: 70%; height: 100px; 
      border: 6px solid white; border-bottom: none; 
      background: repeating-linear-gradient(45deg, rgba(255,255,255,0.1), rgba(255,255,255,0.1) 10px, transparent 10px, transparent 20px);
    }

    /* ëŒ•ëŒ•ì´ í‚¤í¼ (ì¥ê°‘ ëŒ€ì‹  ì´ëª¨ì§€ë¡œ êµì²´ ê°€ëŠ¥) */
    #keeper { 
      position: absolute; top: 90px; left: 50%; transform: translateX(-50%);
      font-size: 60px; transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); z-index: 10;
    }

    /* ì¶•êµ¬ê³µ */
    #ball { 
      position: absolute; bottom: 30px; left: 50%; transform: translateX(-50%);
      font-size: 45px; transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1); z-index: 5;
    }

    /* í•˜ë‹¨ ë©”ì‹œì§€ & ì»¨íŠ¸ë¡¤ */
    .controls {
      flex-grow: 1;
      background: #fff;
      border-top-left-radius: 40px;
      border-top-right-radius: 40px;
      padding: 20px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      gap: 15px;
    }

    #msg { font-size: 1.2rem; font-weight: 800; height: 30px; color: #8d6e63; }

    .btn-group {
      display: flex;
      justify-content: center;
      gap: 10px;
    }

    button { 
      flex: 1;
      max-width: 120px;
      padding: 15px 0;
      font-size: 1rem;
      cursor: pointer; 
      background: var(--nose-black); 
      color: white;
      border: none; 
      border-radius: 20px; 
      font-weight: bold;
      box-shadow: 0 5px 0 #000;
      -webkit-tap-highlight-color: transparent; /* ëª¨ë°”ì¼ í„°ì¹˜ ì”ìƒ ì œê±° */
    }

    button:active { transform: translateY(4px); box-shadow: 0 1px 0 #000; }
    button:disabled { background: #ccc; box-shadow: 0 5px 0 #999; }

  </style>
</head>
<body>

  <div class="header">
    <div class="score-container">
      BEST: <span id="highscore">0</span><br>
      SCORE: <span id="score">0</span>
    </div>
  </div>

  <div id="stadium">
    <div id="goal"></div>
    <div id="keeper">ğŸ¶</div>
    <div id="ball">âš½</div>
  </div>
  
  <div class="controls">
    <div id="msg">ë°©í–¥ì„ ì •í•´ì„œ ìŠ›!</div>
    <div class="btn-group">
      <button onclick="shoot('left')">ì™¼ìª½</button>
      <button onclick="shoot('center')">ì¤‘ì•™</button>
      <button onclick="shoot('right')">ì˜¤ë¥¸ìª½</button>
    </div>
  </div>

  <script>
    const ball = document.getElementById("ball");
    const keeper = document.getElementById("keeper");
    const msg = document.getElementById("msg");
    const scoreEl = document.getElementById("score");
    const btns = document.querySelectorAll("button");
    
    let score = 0;
    let highscore = localStorage.getItem("pkHighscore") || 0;
    document.getElementById("highscore").innerText = highscore;
    let isShooting = false;

    function shoot(direction) {
      if (isShooting) return;
      isShooting = true;
      btns.forEach(b => b.disabled = true);

      // 1. í‚¤í¼ ëœë¤ AI
      const directions = ['left', 'center', 'right'];
      const keeperChoice = directions[Math.floor(Math.random() * 3)];

      // 2. í‚¤í¼ ì´ë™ ë¡œì§ (ë°˜ì‘í˜• % ì‚¬ìš©)
      if (keeperChoice === 'left') keeper.style.left = "25%";
      else if (keeperChoice === 'center') keeper.style.left = "50%";
      else keeper.style.left = "75%";

      // 3. ê³µ ì´ë™ (ê³¨ëŒ€ ì•ˆìœ¼ë¡œ ì™!)
      ball.style.bottom = "210px";
      if (direction === 'left') ball.style.left = "25%";
      else if (direction === 'center') ball.style.left = "50%";
      else ball.style.left = "75%";
      ball.style.transform = "translateX(-50%) scale(0.6)"; // ë©€ì–´ì§€ëŠ” íš¨ê³¼

      // 4. ê²°ê³¼ íŒì •
      setTimeout(() => {
        if (direction === keeperChoice) {
          msg.innerText = "ğŸ¶: ë©ë©! ë§‰ì•„ëƒˆê°œ!";
          msg.style.color = "#ff5252";
          score = 0;
        } else {
          msg.innerText = "âš½ ê³¨!!! ì˜¤ë²„ë¡œë“œê¸‰ ìŠ›!";
          msg.style.color = "#4caf50";
          score++;
          if (score > highscore) {
            highscore = score;
            localStorage.setItem("pkHighscore", highscore);
            document.getElementById("highscore").innerText = highscore;
          }
        }
        scoreEl.innerText = score;

        setTimeout(resetPosition, 1200);
      }, 500);
    }

    function resetPosition() {
      ball.style.bottom = "30px";
      ball.style.left = "50%";
      ball.style.transform = "translateX(-50%) scale(1)";
      keeper.style.left = "50%";
      msg.innerText = "ë‹¤ìŒ ìŠ›ì„ ì¤€ë¹„í•˜ì„¸ìš”!";
      msg.style.color = "#8d6e63";
      isShooting = false;
      btns.forEach(b => b.disabled = false);
    }
  </script>
</body>
</html>
    <div id="keeper">ğŸ§¤</div>
    <div id="ball">âš½</div>
  </div>
  
  <div id="msg">ë°©í–¥ì„ ì„ íƒí•´ì„œ ìŠ›ì„ ë‚ ë¦¬ì„¸ìš”!</div>
  
  <div class="ui">
    <button onclick="shoot('left')">ì™¼ìª½ ìŠ›</button>
    <button onclick="shoot('center')">ì¤‘ì•™ ìŠ›</button>
    <button onclick="shoot('right')">ì˜¤ë¥¸ìª½ ìŠ›</button>
  </div>
  
  <div class="ui">
    SCORE: <span id="score">0</span> | BEST: <span id="highscore">0</span>
  </div>

  <script>
    const ball = document.getElementById("ball");
    const keeper = document.getElementById("keeper");
    const msg = document.getElementById("msg");
    const scoreEl = document.getElementById("score");
    
    let score = 0;
    let highscore = localStorage.getItem("pkHighscore") || 0;
    document.getElementById("highscore").innerText = highscore;
    let isShooting = false;

    function shoot(direction) {
      if (isShooting) return;
      isShooting = true;

      // 1. ê³¨í‚¤í¼ì˜ ëœë¤ ë°©ì–´ ë°©í–¥ (left, center, right)
      const directions = ['left', 'center', 'right'];
      const keeperChoice = directions[Math.floor(Math.random() * 3)];

      // 2. ê³¨í‚¤í¼ ì´ë™
      if (keeperChoice === 'left') keeper.style.left = "160px";
      else if (keeperChoice === 'center') keeper.style.left = "275px";
      else keeper.style.left = "390px";

      // 3. ê³µ ì´ë™
      ball.style.bottom = "230px"; // ê³¨ëŒ€ ë†’ì´ê¹Œì§€
      if (direction === 'left') ball.style.left = "160px";
      else if (direction === 'center') ball.style.left = "275px";
      else ball.style.left = "390px";

      // 4. ê²°ê³¼ íŒì •
      setTimeout(() => {
        if (direction === keeperChoice) {
          msg.innerText = "ğŸ§¤ í‚¤í¼ì˜ ìŠˆí¼ ì„¸ì´ë¸Œ! (ì‹¤íŒ¨)";
          msg.style.color = "#ff5252";
          score = 0; // í˜ë„í‹°í‚¥ì€ ì›ë˜ ì—°ì† ì„±ê³µì´ ì¤‘ìš”!
        } else {
          msg.innerText = "âš½ GOAL!!! ì°¢ì—ˆë‹¤!!";
          msg.style.color = "#4caf50";
          score++;
          if (score > highscore) {
            highscore = score;
            localStorage.setItem("pkHighscore", highscore);
            document.getElementById("highscore").innerText = highscore;
          }
        }
        scoreEl.innerText = score;

        // 5. ì´ˆê¸°í™” (1ì´ˆ ë’¤)
        setTimeout(resetPosition, 1000);
      }, 500);
    }

    function resetPosition() {
      ball.style.bottom = "30px";
      ball.style.left = "275px";
      keeper.style.left = "275px";
      msg.innerText = "ë‹¤ìŒ ìŠ›ì„ ì¤€ë¹„í•˜ì„¸ìš”!";
      msg.style.color = "white";
      isShooting = false;
    }
  </script>
</body>
</html>
