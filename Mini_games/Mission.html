<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title> ì˜¤ëŠ˜ì˜ ë¯¸ì…˜ V2</title>
    <style>
        :root {
            --dog-white: #ffffff;
            --dog-beige: #f5f5dc;
            --dog-brown: #8b4513;
            --accent: #d2b48c;
            --star-gold: #ffcc00;
        }

        body {
            background-color: #f0ede5;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            font-family: 'Malgun Gothic', sans-serif;
        }

        #mission-card {
            background-color: var(--dog-white);
            border: 10px solid var(--dog-beige);
            border-radius: 60px;
            padding: 50px 30px;
            text-align: center;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            width: 380px;
            position: relative;
        }

        /* ê·€ì—¬ìš´ ê°•ì•„ì§€ ê·€ */
        #mission-card::before, #mission-card::after {
            content: '';
            position: absolute;
            top: -40px;
            width: 90px;
            height: 120px;
            background-color: var(--dog-beige);
            border-radius: 50% 50% 30% 30%;
            z-index: -1;
        }
        #mission-card::before { left: 30px; transform: rotate(-25deg); }
        #mission-card::after { right: 30px; transform: rotate(25deg); }

        .dog-nose {
            width: 30px;
            height: 20px;
            background: #333;
            border-radius: 50%;
            margin: 10px auto;
        }

        h1 { color: var(--dog-brown); font-size: 1.6rem; margin-bottom: 5px; }
        #status-msg { color: #888; font-size: 0.9rem; margin-bottom: 25px; }
        
        .btn {
            background-color: var(--dog-beige);
            border: 3px solid var(--accent);
            padding: 18px 40px;
            border-radius: 40px;
            cursor: pointer;
            font-weight: 800;
            font-size: 1.1rem;
            transition: all 0.2s ease;
            color: var(--dog-brown);
            box-shadow: 0 4px 0 var(--accent);
        }

        .btn:active { transform: translateY(4px); box-shadow: none; }
        .btn:disabled { background-color: #eee; border-color: #ccc; box-shadow: none; cursor: not-allowed; color: #aaa; }

        #result { 
            margin-top: 30px; 
            padding: 20px;
            background: #fffdf9;
            border-radius: 25px;
            border: 2px dashed var(--accent);
            display: none; 
            animation: bounce 0.5s ease;
        }

        @keyframes bounce {
            0% { transform: scale(0.8); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .stars { color: var(--star-gold); font-size: 1.4rem; margin: 10px 0; letter-spacing: 3px; }
        .game-tag {
            display: inline-block;
            padding: 6px 15px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: bold;
            color: white;
            margin-bottom: 15px;
        }
        .bg-pubg { background: #f39c12; }
        .bg-valo { background: #ff4655; }
        .bg-gta { background: #2ecc71; }

        #mission-text { color: #444; word-break: keep-all; }
    </style>
</head>
<body>

<div id="mission-card">
    <div style="font-size: 60px; margin-bottom: -10px;">ğŸ¶</div>
    <div class="dog-nose"></div>
    <h1>ì˜¤ëŠ˜ì˜ ë¯¸ì…˜</h1>
    <p id="status-msg">ëœë¤ ë¯¸ì…˜ ë½‘ê¸°! (í•˜ë£¨ì— í•œ ë²ˆë§Œ ê°€ëŠ¥)</p>
    
    <button id="draw-btn" class="btn" onclick="getMission()"> ë¯¸ì…˜ í™•ì¸í•˜ê¸°!</button>

    <div id="result">
        <div id="game-type" class="game-tag"></div>
        <div id="star-rating" class="stars"></div>
        <div id="mission-text" style="font-weight: bold; font-size: 1.2rem; line-height: 1.4;"></div>
    </div>
</div>

<script>
    const missions = [
        // ë°°í‹€ê·¸ë¼ìš´ë“œ
        { game: "ë°°í‹€ê·¸ë¼ìš´ë“œ", stars: 1, class: "bg-pubg", task: "ë¶•ëŒ€ë§Œ ì¨ì„œ íƒ‘ 10 ì§„ì…í•˜ê¸°" },
        { game: "ë°°í‹€ê·¸ë¼ìš´ë“œ", stars: 2, task: "ì˜¤í† ë°”ì´ë¡œ ê³µì¤‘ì œë¹„ í•œ ë°”í€´ ëŒê³  ìƒì¡´í•˜ê¸°" },
        { game: "ë°°í‹€ê·¸ë¼ìš´ë“œ", stars: 3, task: "íˆ¬ì²™ë¬´ê¸°(ìˆ˜ë¥˜íƒ„/í™”ì—¼ë³‘)ë¡œë§Œ 1í‚¬ ì´ìƒ í•˜ê¸°" },
        { game: "ë°°í‹€ê·¸ë¼ìš´ë“œ", stars: 4, task: "ìê¸°ì¥ ë°–ì—ì„œ 3ë¶„ ì´ìƒ ë²„í‹°ë‹¤ ë³µê·€í•˜ê¸°" },
        { game: "ë°°í‹€ê·¸ë¼ìš´ë“œ", stars: 5, task: "í”„ë¼ì´íŒ¬ìœ¼ë¡œ ë§‰íƒ€ ì³ì„œ í‚¬ í•˜ê¸° (ì§„ì •í•œ ê³ ì¸ë¬¼)" },
        { game: "ë°°í‹€ê·¸ë¼ìš´ë“œ", stars: 3, task: "ë³´ê¸‰ ìƒì í„¸ì–´ì„œ ë‚˜ì˜¨ í…œìœ¼ë¡œë§Œ êµì „í•˜ê¸°" },

        // ë°œë¡œë€íŠ¸
        { game: "ë°œë¡œë€íŠ¸", stars: 1, class: "bg-valo", task: "í•œ ë¼ìš´ë“œ ë‚´ë‚´ ê¶Œì´ë§Œ ì‚¬ìš©í•˜ê¸°" },
        { game: "ë°œë¡œë€íŠ¸", stars: 2, task: "ìŠ¤í‚¬ ì•ˆ ì“°ê³  ì´ìœ¼ë¡œë§Œ 3í‚¬ ê¸°ë¡í•˜ê¸°" },
        { game: "ë°œë¡œë€íŠ¸", stars: 3, task: "ì  ë² ì´ìŠ¤ ê·¼ì²˜ê¹Œì§€ ëª°ë˜ ê°€ì„œ ë’¤í†µìˆ˜ ì¹˜ê¸°" },
        { game: "ë°œë¡œë€íŠ¸", stars: 4, task: "í´ëŸ¬ì¹˜(1ëŒ€ë‹¤ ìƒí™©) ì„±ê³µí•˜ê³  ì „ì²´ ì±„íŒ…ìœ¼ë¡œ '?' ì¹˜ê¸°" },
        { game: "ë°œë¡œë€íŠ¸", stars: 5, task: "ê¶ê·¹ê¸°ë¡œ 3ëª… ì´ìƒ ë™ì‹œì— ë§ì¶”ê±°ë‚˜ ì²˜ì¹˜í•˜ê¸°" },
        { game: "ë°œë¡œë€íŠ¸", stars: 2, task: "íŒ€ì›ì´ ì£½ì„ ë•Œë§ˆë‹¤ ì§„ì‹¬ìœ¼ë¡œ ì• ë„í•˜ë©° ì˜¤ì—´í•˜ê¸°(ë§ˆì´í¬)" },

        // GTA 5
        { game: "GTA 5", stars: 1, class: "bg-gta", task: "ì°¨ ì•ˆ ëºê³  íƒì‹œë§Œ íƒ€ê³  ëª©ì ì§€ ê°€ê¸°" },
        { game: "GTA 5", stars: 2, task: "ë¹„í–‰ê¸° ëºì–´ì„œ ë¹Œë”© ì‚¬ì´ í†µê³¼ 5ë²ˆ í•˜ê¸°" },
        { game: "GTA 5", stars: 3, task: "ì˜¤í† ë°”ì´ë¡œ ì‚° ê¼­ëŒ€ê¸°ê¹Œì§€ ì˜¬ë¼ê°€ì„œ ë²ˆì§€ì í”„í•˜ê¸°" },
        { game: "GTA 5", stars: 4, task: "í¸ì˜ì  í„¸ê³  ê²½ì°° ë”°ëŒë¦´ ë•Œê¹Œì§€ ì°¨ ì•ˆ ë°”ê¾¸ê¸°" },
        { game: "GTA 5", stars: 5, task: "ì§€í•˜ì²  í„°ë„ ì•ˆìœ¼ë¡œ ì°¨ ëª°ê³  ë“¤ì–´ê°€ì„œ ê²½ì°° ë”°ëŒë¦¬ê¸°" },
        { game: "GTA 5", stars: 3, task: "ë‚™í•˜ì‚° ì—†ì´ ë†’ì€ ê³³ì—ì„œ ë–¨ì–´ì ¸ì„œ ìˆ˜ì˜ì¥ìœ¼ë¡œ ê³¨ì¸í•˜ê¸°" }
    ];

    window.onload = function() {
        const lastDate = localStorage.getItem('lastMissionDate');
        const today = new Date().toDateString();

        if (lastDate === today) {
            const savedMission = JSON.parse(localStorage.getItem('todayMission'));
            displayMission(savedMission);
            disableButton("ì´ë¯¸ ì˜¤ëŠ˜ì˜ ë¯¸ì…˜ì„ ë°›ì•˜ê°œ!");
        }
    };

    function getMission() {
        const today = new Date().toDateString();
        const randomIndex = Math.floor(Math.random() * missions.length);
        const selected = missions[randomIndex];

        localStorage.setItem('lastMissionDate', today);
        localStorage.setItem('todayMission', JSON.stringify(selected));

        displayMission(selected);
        disableButton("ë¯¸ì…˜ ì„±ê³µí•˜ê¸¸ ë°”ë€ë‹¤ë©!");
    }

    function displayMission(mission) {
        const resDiv = document.getElementById('result');
        const tag = document.getElementById('game-type');
        
        resDiv.style.display = 'block';
        tag.innerText = mission.game;
        
        // ê²Œì„ë³„ ìƒ‰ìƒ ì ìš©
        tag.className = 'game-tag'; 
        if(mission.game === "ë°°í‹€ê·¸ë¼ìš´ë“œ") tag.classList.add('bg-pubg');
        else if(mission.game === "ë°œë¡œë€íŠ¸") tag.classList.add('bg-valo');
        else tag.classList.add('bg-gta');

        document.getElementById('star-rating').innerText = "â­".repeat(mission.stars);
        document.getElementById('mission-text').innerText = mission.task;
    }

    function disableButton(msg) {
        const btn = document.getElementById('draw-btn');
        btn.disabled = true;
        btn.innerText = "ë‚´ì¼ ë‹¤ì‹œ!";
        document.getElementById('status-msg').innerText = msg;
    }
</script>

</body>
</html>
